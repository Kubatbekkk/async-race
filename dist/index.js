(()=>{"use strict";var n={426:(n,t,e)=>{e.d(t,{Z:()=>A});var a=e(81),i=e.n(a),r=e(645),s=e.n(r),o=e(667),d=e.n(o),c=new URL(e(525),e.b),l=new URL(e(117),e.b),u=new URL(e(760),e.b),h=new URL(e(134),e.b),m=new URL(e(986),e.b),g=new URL(e(753),e.b),p=new URL(e(94),e.b),b=new URL(e(581),e.b),v=s()(i());v.push([n.id,"@import url(https://fonts.googleapis.com/css2?family=Crimson+Text:wght@400;600;700&family=Roboto:wght@100;400;500&display=swap);"]);var f=d()(c),y=d()(l),C=d()(u),_=d()(h),w=d()(m),P=d()(g),x=d()(p),k=d()(b);v.push([n.id,":root {\n    --body-background: rgba(220, 212, 212, 0.545);\n    --background: rgb(145, 145, 145);\n    --color-input: #bdae82;\n    --color-font: #F4F4F4;\n    --rina: #32C2E2;\n    --color-hover: #090D10;\n    --under-gold: #c8c4be;\n    --gold: #f3f1e9;\n}\n\n/* Reset */\n\n* {\n    padding: 0;\n    margin: 0;\n    border: 0;\n}\n\n*,\n*:before,\n*:after {\n    -moz-box-sizing: border-box;\n    -webkit-box-sizing: border-box;\n    box-sizing: border-box;\n}\n\n:focus,\n:active {\n    outline: none;\n}\n\na:focus,\na:active {\n    outline: none;\n}\n\nnav,\nfooter,\nheader,\naside {\n    display: block;\n}\n\nhtml,\nbody {\n    height: 100%;\n    width: 100%;\n    font-size: 100%;\n    line-height: 1;\n    font-size: 14px;\n    -ms-text-size-adjust: 100%;\n    -moz-text-size-adjust: 100%;\n    -webkit-text-size-adjust: 100%;\n}\n\ninput,\nbutton,\ntextarea {\n    font-family: inherit;\n}\n\ninput::-ms-clear {\n    display: none;\n}\n\nbutton {\n    cursor: pointer;\n}\n\nbutton::-moz-focus-inner {\n    padding: 0;\n    border: 0;\n}\n\na,\na:visited {\n    text-decoration: none;\n}\n\na:hover {\n    text-decoration: none;\n}\n\nul li {\n    list-style: none;\n}\n\nimg {\n    vertical-align: top;\n}\n\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n    font-size: inherit;\n    font-weight: 400;\n}\n\n/* Reset */\n\n* {\n    box-sizing: border-box;\n}\n\nhtml {\n    scroll-behavior: smooth;\n}\n\nbody {\n    margin: 0 auto;\n}\n\n.header-wrapper {\n    background: var(--background);\n    width: 100%;\n}\n\n.header-container {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 0 7em;\n    margin: 0 auto;\n    height: 7.7em;\n    max-width: 108em;\n}\n\n.header-nav {\n    display: flex;\n    gap: 2.5em;\n    justify-content: center;\n}\n\n.button {\n    background: var(--under-gold);\n    border-radius: 2px;\n    padding: 0.2em;\n    height: 2.5em;\n    width: 8em;\n    font-family: 'Roboto', sans-serif;\n    font-style: medium;\n    font-weight: 400;\n    font-size: 1.1em;\n    line-height: 1.2em;\n    letter-spacing: 0.06em;\n    color: var(--color-hover);\n    text-align: center;\n    cursor: pointer;\n    transition: 0.5s ease-out;\n}\n\n.button:hover {\n    background: var(--body-background);\n    color: white;\n    border: 2px solid var(--under-gold);\n}\n\n.header-container__title {\n    font-family: 'Roboto', sans-serif;\n    font-style: normal;\n    font-size: 3.3em;\n    line-height: 1em;\n    color: var(--under-gold);\n}\n\n.header-container__items {\n    display: flex;\n    gap: 2rem;\n}\n\n.footer-wrapper {\n    width: 100%;\n    background: var(--background);\n    min-height: 6rem;\n    display: flex;\n    align-items: center;\n\n}\n\n.footer-container {\n    max-width: 108em;\n    padding: 0 7em;\n    margin: 0 auto;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n}\n\n.footer-side {\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    gap: 0.8em;\n}\n\n.footer-git{\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 0 5em;\n}\n\n.github-link {\n    width: 7em;\n    height: 2em;\n    background-image: url("+f+");\n    background-size: contain;\n    background-repeat: no-repeat;\n    filter: invert(80%) sepia(87%) saturate(679%) hue-rotate(193deg) brightness(125%) contrast(91%);\n    transition: 0.3s;\n}\n\n.github-link:hover {\n    filter: invert(54%) sepia(88%) saturate(380%) brightness(9%) contrast(94%);\n}\n\n.footer-rss {\n    padding: 0 3em;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n}\n\n.footer-text {\n    font-family: 'Roboto', sans-serif;\n    font-style: medium;\n    font-weight: 400;\n    font-size: 1.2px;\n    line-height: 2em;\n    letter-spacing: 0.15px;\n    color: var(--color-font);\n    text-align: center;\n}\n\n.rss {\n    width: 7em;\n    height: 3em;\n    background-image: url("+y+");\n    background-size: contain;\n    background-repeat: no-repeat;\n    filter: invert(80%) sepia(87%) saturate(679%) hue-rotate(193deg) brightness(125%) contrast(91%);\n    transition: 0.3s;\n}\n\n.rss:hover {\n    filter: invert(54%) sepia(88%) saturate(380%) brightness(9%) contrast(94%);\n}\n\n\n.main-container {\n    background: var(--body-background);\n    display: flex;\n    flex-direction: column;\n    min-height: 80vh;\n    padding: 1em;\n    gap: 1em;\n    text-align: center;\n}\n\n.main-container__title {\n    font-family: 'Roboto', sans-serif;\n    font-style: normal;\n    font-size: 2em;\n    line-height: 1em;\n    color: var(--background);\n}\n\n.main-container__panel {\n    display: flex;\n    padding: 0 5em;\n    justify-content: space-between;\n    margin-bottom: 1.5em;\n    align-items: center;\n}\n\n.main-container__inputs {\n    display:flex;\n    flex-direction: column;\n    gap: 1em;\n}\n\n.garage-btns {\n    display: flex;\n    align-items: center;\n    gap: 1em;\n    margin-bottom: 1em;\n}\n\n.main-container__tracks {\n    display: flex;\n    flex-direction: column;\n    gap: 1em;\n}\n\n.main-container__track {\n    display: flex;\n}\n\n.track-btns {\n    width: 15em;\n}\n\n.track {\n    height: 5em;\n    width: 100%;\n    padding: 1em;\n    background: var(--background);\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n}\n\n.line {\n    border: none;\n    background: var(--under-gold);\n    height: 1.6px;\n    width: 100%;\n}\n\n.track-items {\n    padding-right: 5em;\n    display: flex;\n    justify-content: space-between;\n}\n\n.car-items {\n    display: flex;\n}\n\n.car {\n    width: 4em;\n    height: 2.5em;\n}\n\n.car-title {\n    color:var(--under-gold);\n    font-family: 'Roboto', sans-serif;\n    font-weight: 100;\n    font-size: 1em;\n}\n\n.finish {\n    width: 2em;\n    height: 2.9em;\n    background-image: url("+C+");\n    background-size: contain;\n    background-repeat: no-repeat;\n    background-position: center;\n    filter: invert(54%) sepia(88%) saturate(380%) hue-rotate(14deg) brightness(3%) contrast(94%);\n}\n\n\n.main-container__buttons {\n    display: flex;\n    justify-content: center;\n    gap: 0.4em;\n}\n\n.main-container__button {\n    background: var(--under-gold);\n    font-family: 'Georgia';\n    font-style: normal;\n    font-weight: 400;\n    font-size: 1.4em;\n    line-height: 1.5em;\n    letter-spacing: 0.06em;\n    color: var(--background);\n    display: block;\n    width: 3em;\n    height: 3em;\n    margin: 0 0.3em;\n    transition: 0.5s ease-out;\n    cursor: pointer;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n\n.main-container__button:hover {\n    background: var(--body-background);\n    border: 2px solid var(--gold);\n}\n\n.main-container__button:hover img {\n    filter: invert(54%) sepia(88%) saturate(380%) hue-rotate(14deg) brightness(93%) contrast(94%);\n}\n\n.main-container__button.inactive {\n    background: transparent;\n    border: 2px solid var(--under-gold);\n    cursor: default;\n}\n\n#page-holder {\n    background: var(--under-gold);\n    border: 2px solid var(--gold);\n    color: white;\n}\n\n.main-container__button.inactive img {\n    filter: invert(80%) sepia(0%) saturate(1267%) hue-rotate(229deg) brightness(98%) contrast(94%);\n}\n\n.track-btn {\n    background: var(--under-gold);\n    border-radius: 2px;\n    padding: 3px;\n    height: 2em;\n    width: 5em;\n    font-family: 'Roboto', sans-serif;\n    font-style: medium;\n    font-weight: 400;\n    font-size: 1em;\n    line-height: 1em;\n    letter-spacing: 0.06em;\n    color: var(--color-hover);\n    text-align: center;\n    cursor: pointer;\n    transition: 0.5s ease-out;\n    margin: 0.3em;\n}\n\n.track-btn:hover {\n    background: var(--body-background);\n    color: white;\n    border: 2px solid var(--under-gold);\n}\n\n.track-btn:disabled {\n    background: var(--background);\n    color: transparent;\n    border: 2px solid var(--under-gold);\n    cursor: default;\n}\n\n.winners-page {\n    display: flex;\n    justify-content: center;\n}\n\ntable, th, td {\n    background: transparent;\n    color: rgb(46, 44, 44);\n}\n\nth {\n    text-align: center;\n    width: 10em;\n    height: 3em;\n}\n\ntd {\n    text-align: center;\n    width: 6em;\n    height: 3em;\n}\n\n.create-car, .update-car {\n    display: flex;\n    gap: 1.1em;\n    align-items: center;\n}\n\n.garage-input__item {\n    border: 0.15em solid var(--under-gold);\n    border-radius: 2px;\n    background: rgba(0, 0, 0, 0.5);\n    height: 2.8em;\n    font-family: 'Roboto', sans-serif;\n    font-style: normal;\n    font-weight: bold;\n    font-size: 1.1em;\n    line-height: 1em;\n    transition: 0.5s;\n}\n\ninput.garage-input__item {\n    color: var(--under-gold);\n    font-family: 'Roboto', sans-serif;\n    font-style: normal;\n    font-weight: normal;\n    font-size: 1.1em;\n    padding-left: 1em;\n}\n\ninput:disabled {\n    color: transparent;\n    background: transparent;\n    cursor: default;\n}\n\ninput:disabled::placeholder {\n    color: transparent;\n}\n\ninput.palette {\n    background: var(--under-gold);\n    width: 4em;\n    border-radius: 2px;\n    cursor: pointer;\n    padding-left: 0;\n}\n\ninput.palette:disabled {\n    background: transparent;\n    cursor: default;\n}\n\n.garage-input__item::placeholder {\n    font-family: inherit;\n    color: var(--under-gold);\n    font-size: 1.1em;\n}\n\n.button:disabled {\n    background: transparent;\n    color: transparent;\n    border: 2px solid var(--under-gold);\n    cursor: default;\n}\n\n.audio-payer {\n    display: flex;\n    gap: 1em;\n    width: 30em;\n    height: 3em;\n    background: transparent;\n    align-items: center;\n    border: 3px solid var(--under-gold);\n    border-radius: 2em;\n}\n\n.controls {\n    margin-left: 1em;\n    display: flex;\n    justify-content: space-between;\n    gap: 0.5em;\n}\n\n.audio-payer__btn {\n    background-repeat: no-repeat;\n    background-position: center;\n    width: 2em;\n    height: 2em;\n    cursor: pointer;\n    transition: 0.2s ease-in-out;\n    filter: invert(100%) sepia(6%) saturate(48%) hue-rotate(195deg) brightness(113%) contrast(91%);\n}\n\n.prev {\n    background-image: url("+_+");\n}\n\n.controls .prev:active {\n    transform: scale(1.8);\n}\n\n.play {\n    background-image: url("+w+");\n    filter: invert(0%) sepia(6%) saturate(48%) hue-rotate(195deg) brightness(113%) contrast(91%);\n}\n\n.paused {\n    background-image: url("+P+");\n}\n\n.next {\n    background-image: url("+x+');\n}\n\n.controls .next:active {\n    transform: scale(1.8);\n}\n\n.progress-bar {\n    height: 0.6em;\n    width: 100%;\n    border-radius: 0.8em;\n    position: relative;\n    background: var(--under-gold);\n}\n\nprogress::-webkit-progress-value {\n    background: var(--under-gold);\n}\n\n.progress-bar::before {\n    content: "";\n    position: absolute;\n    height: 0.9em;\n    width: 0.9em;\n    border-radius: inherit;\n    background: rgb(255, 0, 0);\n    top: 50%;\n    right: -5px;\n    transform: translateY(-50%);\n    opacity: 0;\n    transition: opacity 0.3s ease-in;\n}\n\n.progress-controls:hover .progress-bar::before {\n    opacity: 1;\n}\n\n.mute {\n    background-image: url('+k+");\n    margin-right: 1em;\n}\n\n@media (max-width: 1170px) {\n    .header-container__items {\n        flex-direction: column;\n        gap: 0.5rem;\n        width: 294px;\n        align-items: center;\n    }\n\n    .audio-payer {\n        max-width: 19em;\n        padding: 0 0.6em;\n    }\n}\n\n@media (min-width: 490px) and (max-width: 1100px) {\n    .main-container__panel {\n        flex-direction: column;\n        gap: 5em;\n        margin-top: 1em;\n    }\n\n    .main-container__inputs {\n        order: -1;\n    }\n}\n\n@media (max-width:770px) {\n    .header-container {\n        padding: 0 2em;\n    }\n\n    .header-container__title {\n        font-size: 2.3em;\n    }\n\n    .main-container__title {\n        font-size: 2.3em;\n    }\n\n    .track-btn {\n        max-width: 5em;\n        width: 100%;\n    }\n\n    .footer-container {\n        padding: 0 1em;\n    }\n\n    .footer-git {\n        padding: 0 1em;\n    }\n\n    .controls {\n        margin-left: 0;\n    }\n\n    .audio-payer__btn {\n        width: 1.5em;\n        height: 1.5em;\n    }\n\n    .mute {\n        background-size: 1.5em;\n        margin-right: 0;\n    }\n\n    .button {\n        height: 2em;\n        width: 100%;\n    }\n\n    .header-nav {\n        gap: 0;\n        max-width: 14em;\n        width: 100%;\n        justify-content: space-between;\n    }\n\n    .header-nav__item {\n        max-width: 6em;\n        width: 100%;\n    }\n\n    .main-container__panel {\n        padding: 0;\n        gap: 3em;\n    }\n\n    .garage-btn {\n        max-width: 7em;\n        width: 100%;\n    }\n\n    .main-panel__items {\n        max-width: 26em;\n        width: 100%;\n    }\n\n    .main-panel__items {\n        max-width: 26em;\n        width: 100%;\n    }\n\n    .garage-btns {\n        justify-content: space-between;\n        gap: 0;\n    }\n\n    .garage-btns__item {\n        max-width: 7em;\n        width: 100%;\n    }\n\n    .main-container__track {\n        align-items: center;\n    }\n\n    .track-btns {\n        width: auto;\n        max-width: 12em;\n        display: flex;\n        flex-wrap: wrap;\n    }\n\n    .track-btn {\n        max-width: 5em;\n        width: 100%;\n    }\n}\n",""]);const A=v},645:n=>{n.exports=function(n){var t=[];return t.toString=function(){return this.map((function(t){var e="",a=void 0!==t[5];return t[4]&&(e+="@supports (".concat(t[4],") {")),t[2]&&(e+="@media ".concat(t[2]," {")),a&&(e+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),e+=n(t),a&&(e+="}"),t[2]&&(e+="}"),t[4]&&(e+="}"),e})).join("")},t.i=function(n,e,a,i,r){"string"==typeof n&&(n=[[null,n,void 0]]);var s={};if(a)for(var o=0;o<this.length;o++){var d=this[o][0];null!=d&&(s[d]=!0)}for(var c=0;c<n.length;c++){var l=[].concat(n[c]);a&&s[l[0]]||(void 0!==r&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=r),e&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=e):l[2]=e),i&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=i):l[4]="".concat(i)),t.push(l))}},t}},667:n=>{n.exports=function(n,t){return t||(t={}),n?(n=String(n.__esModule?n.default:n),/^['"].*['"]$/.test(n)&&(n=n.slice(1,-1)),t.hash&&(n+=t.hash),/["'() \t\n]|(%20)/.test(n)||t.needQuotes?'"'.concat(n.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):n):n}},81:n=>{n.exports=function(n){return n[1]}},654:(n,t,e)=>{e.r(t),e.d(t,{default:()=>v});var a=e(379),i=e.n(a),r=e(795),s=e.n(r),o=e(569),d=e.n(o),c=e(565),l=e.n(c),u=e(216),h=e.n(u),m=e(589),g=e.n(m),p=e(426),b={};b.styleTagTransform=g(),b.setAttributes=l(),b.insert=d().bind(null,"head"),b.domAPI=s(),b.insertStyleElement=h(),i()(p.Z,b);const v=p.Z&&p.Z.locals?p.Z.locals:void 0},379:n=>{var t=[];function e(n){for(var e=-1,a=0;a<t.length;a++)if(t[a].identifier===n){e=a;break}return e}function a(n,a){for(var r={},s=[],o=0;o<n.length;o++){var d=n[o],c=a.base?d[0]+a.base:d[0],l=r[c]||0,u="".concat(c," ").concat(l);r[c]=l+1;var h=e(u),m={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==h)t[h].references++,t[h].updater(m);else{var g=i(m,a);a.byIndex=o,t.splice(o,0,{identifier:u,updater:g,references:1})}s.push(u)}return s}function i(n,t){var e=t.domAPI(t);return e.update(n),function(t){if(t){if(t.css===n.css&&t.media===n.media&&t.sourceMap===n.sourceMap&&t.supports===n.supports&&t.layer===n.layer)return;e.update(n=t)}else e.remove()}}n.exports=function(n,i){var r=a(n=n||[],i=i||{});return function(n){n=n||[];for(var s=0;s<r.length;s++){var o=e(r[s]);t[o].references--}for(var d=a(n,i),c=0;c<r.length;c++){var l=e(r[c]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}r=d}}},569:n=>{var t={};n.exports=function(n,e){var a=function(n){if(void 0===t[n]){var e=document.querySelector(n);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(n){e=null}t[n]=e}return t[n]}(n);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}},216:n=>{n.exports=function(n){var t=document.createElement("style");return n.setAttributes(t,n.attributes),n.insert(t,n.options),t}},565:(n,t,e)=>{n.exports=function(n){var t=e.nc;t&&n.setAttribute("nonce",t)}},795:n=>{n.exports=function(n){var t=n.insertStyleElement(n);return{update:function(e){!function(n,t,e){var a="";e.supports&&(a+="@supports (".concat(e.supports,") {")),e.media&&(a+="@media ".concat(e.media," {"));var i=void 0!==e.layer;i&&(a+="@layer".concat(e.layer.length>0?" ".concat(e.layer):""," {")),a+=e.css,i&&(a+="}"),e.media&&(a+="}"),e.supports&&(a+="}");var r=e.sourceMap;r&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleTagTransform(a,n,t.options)}(t,n,e)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(t)}}}},589:n=>{n.exports=function(n,t){if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}},675:(n,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.apiProvider=void 0,t.apiProvider="http://127.0.0.1:3000"},575:(n,t)=>{var e;Object.defineProperty(t,"__esModule",{value:!0}),t.Methods=void 0,(e=t.Methods||(t.Methods={})).Get="GET",e.Post="POST",e.Put="PUt",e.Delete="DELETE",e.Patch="PATCH"},368:(n,t)=>{var e;Object.defineProperty(t,"__esModule",{value:!0}),t.Paths=void 0,(e=t.Paths||(t.Paths={})).Garage="/garage",e.Winners="/winners",e.Engine="/engine"},510:(n,t)=>{var e,a;Object.defineProperty(t,"__esModule",{value:!0}),t.CarStatuses=t.ResponseStatuses=void 0,(a=t.ResponseStatuses||(t.ResponseStatuses={}))[a.Ok=200]="Ok",a[a.Created=201]="Created",a[a.BadRequest=400]="BadRequest",a[a.NotFound=404]="NotFound",a[a.TooManyRequests=429]="TooManyRequests",a[a.InternalServerError=500]="InternalServerError",(e=t.CarStatuses||(t.CarStatuses={})).Started="started",e.Stopped="stopped",e.Drive="drive"},962:function(n,t,e){var a=this&&this.__awaiter||function(n,t,e,a){return new(e||(e=Promise))((function(i,r){function s(n){try{d(a.next(n))}catch(n){r(n)}}function o(n){try{d(a.throw(n))}catch(n){r(n)}}function d(n){var t;n.done?i(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(s,o)}d((a=a.apply(n,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=e(194),r=e(767);t.default=class{constructor(){this.controller=new i.AppController,this.view=new r.AppView}start(){return a(this,void 0,void 0,(function*(){yield this.controller.getCars(),yield this.view.renderHeader(),yield this.view.render(),yield this.view.routing()}))}}},194:function(n,t,e){var a=this&&this.__awaiter||function(n,t,e,a){return new(e||(e=Promise))((function(i,r){function s(n){try{d(a.next(n))}catch(n){r(n)}}function o(n){try{d(a.throw(n))}catch(n){r(n)}}function d(n){var t;n.done?i(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(s,o)}d((a=a.apply(n,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AppController=void 0;const i=e(675),r=e(368),s=e(575),o=e(207),d=e(510);t.AppController=class{getCars(n=1,t=7){return a(this,void 0,void 0,(function*(){const e=yield fetch(`${i.apiProvider}${r.Paths.Garage}?`+new URLSearchParams({_page:n.toString(),_limit:t.toString()}),{method:s.Methods.Get});if(e.status===d.ResponseStatuses.Ok){const n=yield e.json();o.state.setCars(n),o.state.setCarsAmount(Number(e.headers.get("X-Total-Count")))}}))}getCar(n){return a(this,void 0,void 0,(function*(){try{const t=yield fetch(`${i.apiProvider}${r.Paths.Garage}/${n}`);if(t.status===d.ResponseStatuses.Ok)return yield t.json()}catch(t){console.log(`id ${n} is not found`)}return Promise.resolve(void 0)}))}createCar(n){return a(this,void 0,void 0,(function*(){const t=yield fetch(`${i.apiProvider}${r.Paths.Garage}`,{method:s.Methods.Post,headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),e=yield t.json();o.state.addCar(e)}))}updateCar(n,t){return a(this,void 0,void 0,(function*(){const e=yield fetch(`${i.apiProvider}${r.Paths.Garage}/${n}`,{method:s.Methods.Put,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),a=yield e.json();o.state.updateCar(a)}))}deleteCar(n){return a(this,void 0,void 0,(function*(){const t=yield fetch(`${i.apiProvider}${r.Paths.Garage}/${n}`,{method:s.Methods.Delete});t.status===d.ResponseStatuses.Ok?yield this.getCars():t.status===d.ResponseStatuses.NotFound&&console.log(`id ${n} is not found`)}))}}},767:function(n,t,e){var a=this&&this.__awaiter||function(n,t,e,a){return new(e||(e=Promise))((function(i,r){function s(n){try{d(a.next(n))}catch(n){r(n)}}function o(n){try{d(a.throw(n))}catch(n){r(n)}}function d(n){var t;n.done?i(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(s,o)}d((a=a.apply(n,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AppView=void 0;const i=e(199),r=e(202),s=e(408),o=e(644),d=e(73),c=e(358);t.AppView=class{constructor(){this.header=new i.Header,this.main=new r.Main,this.pagination=new d.Pagination,this.footer=new s.Footer,this.pagePaths=o.PagePaths.Garage,this.winnersTable=new c.WinnersTable}init(){return a(this,void 0,void 0,(function*(){return this.template=`\n    <div id="router">\n      <main class="main-container" id="main-container">\n        ${this.pagePaths===o.PagePaths.Garage?yield this.initGaragePage.call(this):yield this.initWinnersPage.call(this)}\n      </main>\n      ${yield this.footer.render()}\n    </div>\n    `,this.template}))}initHeader(){return a(this,void 0,void 0,(function*(){this.headerTemplate=`\n    ${yield this.header.render()}\n    `}))}renderHeader(){return a(this,void 0,void 0,(function*(){yield this.initHeader(),document.querySelector("body").insertAdjacentHTML("afterbegin",this.headerTemplate)}))}initGaragePage(){return a(this,void 0,void 0,(function*(){return`\n    ${yield this.main.render()}\n    ${yield this.pagination.render()}\n    `}))}initWinnersPage(){return a(this,void 0,void 0,(function*(){return`\n    ${yield this.winnersTable.render()}\n    ${yield this.pagination.render()}\n    `}))}changePagePathToGarage(){this.pagePaths=o.PagePaths.Garage}changePagePathToWinners(){this.pagePaths=o.PagePaths.Winners}subscribe(){this.pagination.subscribeOnNext(this.updateMain.bind(this)),this.pagination.subscribeOnPrev(this.updateMain.bind(this)),this.pagination.subscribeOnStart(this.updateMain.bind(this)),this.pagination.subscribeOnEnd(this.updateMain.bind(this)),this.main.subscribeSelectCar(),this.main.subscribeUpdateCar(this.updateMain.bind(this)),this.main.subscribeDeleteCar(this.updateMain.bind(this)),this.main.subscribeOnStart(),this.main.subscribeOnStop(),this.main.resetBtnsStatus()}updateMain(){return a(this,void 0,void 0,(function*(){yield this.main.updateTrack(),yield this.pagination.updatePagination(),this.subscribe()}))}routing(){return a(this,void 0,void 0,(function*(){this.header.subscribeOnGarage(this.changePagePathToGarage.bind(this),this.render.bind(this)),this.header.subscribeOnWinners(this.changePagePathToWinners.bind(this),this.render.bind(this))}))}render(){return a(this,void 0,void 0,(function*(){yield this.init(),document.querySelector("body").insertAdjacentHTML("beforeend",this.template),this.pagePaths===o.PagePaths.Garage&&(this.subscribe(),this.main.subscribeCreateCar(this.updateMain.bind(this)),this.main.subscribeAddCars(this.updateMain.bind(this)),this.main.updatePanelStatus(),this.main.updateBtnsStatus(),this.main.subscribeOnAsyncRace(),this.main.subscribeOnResetRace())}))}}},564:function(n,t,e){var a=this&&this.__awaiter||function(n,t,e,a){return new(e||(e=Promise))((function(i,r){function s(n){try{d(a.next(n))}catch(n){r(n)}}function o(n){try{d(a.throw(n))}catch(n){r(n)}}function d(n){var t;n.done?i(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(s,o)}d((a=a.apply(n,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.CarController=void 0;const i=e(675),r=e(510),s=e(368),o=e(575),d=e(207);t.CarController=class{constructor(){this.animateCarIds=d.state.getAnimateCarIds()}animateCar(n){const t=document.getElementById("track"),e=document.getElementById(`car-${n}`),a=d.state.getCharsByCarId(n),i=a.distance/a.velocity,r=t.clientWidth-e.clientWidth-28,s=performance.now(),o=t=>{let a=(t-s)/i;var c;a>1&&(a=1),c=a,e.style.transform=`translateX(${c*r}px)`,a<1&&(this.animateCarIds[n]=requestAnimationFrame(o.bind(this)),d.state.setAnimateCarId(n,this.animateCarIds[n]))};this.animateCarIds[n]=requestAnimationFrame(o.bind(this)),d.state.deleteAnimateCarId(n)}stopAnimateCar(n){cancelAnimationFrame(this.animateCarIds[n]),d.state.deleteAnimateCarId(n)}cancelAllCarsAnimation(){Object.values(this.animateCarIds).forEach((n=>{cancelAnimationFrame(n)})),this.animateCarIds={},d.state.resetAnimateCarIds()}runAllCarsAnimation(){Object.values(this.animateCarIds).forEach((n=>{this.animateCar(n)}))}resetCar(n){document.getElementById(`car-${n}`).style.transform="translateX(0px)"}startCar(n){return a(this,void 0,void 0,(function*(){const t=yield fetch(`${i.apiProvider}${s.Paths.Engine}?id=${n}&status=${r.CarStatuses.Started}`,{method:o.Methods.Patch});return yield t.json()}))}stopCar(n){return a(this,void 0,void 0,(function*(){const t=yield fetch(`${i.apiProvider}${s.Paths.Engine}?id=${n}&status=${r.CarStatuses.Stopped}`,{method:o.Methods.Patch});this.stopAnimateCar(n);const e=yield t.json();return d.state.deleteCarChars(n),this.resetCar(n),e}))}driveCar(n){return a(this,void 0,void 0,(function*(){const t=(yield fetch(`${i.apiProvider}${s.Paths.Engine}?id=${n}&status=${r.CarStatuses.Drive}`,{method:o.Methods.Patch})).status===r.ResponseStatuses.Ok;return t||this.stopAnimateCar(n),t?{success:n}:{success:!1}}))}raceCar(n){return a(this,void 0,void 0,(function*(){return this.startCar(n).then((t=>a(this,void 0,void 0,(function*(){return d.state.setCarChars(n,t),this.animateCarIds=d.state.getAnimateCarIds(),this.animateCar(n),this.driveCar(n)})))).then((n=>{if(!n.success)throw new Error("you lose!");return n}))}))}raceCars(n){return a(this,void 0,void 0,(function*(){return Promise.any(n.map((n=>this.raceCar(n)))).then((n=>(console.log(n,"win"),d.state.getCars().forEach((t=>{t.id===n.success&&alert(`In this race the winner is ${t.name}! Race one more time!`)})),n)))}))}resetCars(n){return a(this,void 0,void 0,(function*(){return Promise.all(n.map((n=>this.stopCar(n))))}))}}},371:(n,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WINNERS_LIMIT_PER_PAGE=t.CARS_LIMIT_PER_PAGE=void 0,t.CARS_LIMIT_PER_PAGE=7,t.WINNERS_LIMIT_PER_PAGE=10},207:(n,t,e)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.state=void 0;const a=e(371);t.state=new class{constructor(){this.state=this.getEmptyState()}getEmptyState(){return{cars:[],carsAmount:0,selectedCarId:null,page:1,carsChars:{},winners:[],winnersAmount:0,animateCarIds:{},isAnimationPaused:{}}}setCars(n){this.state=Object.assign(Object.assign({},this.state),{cars:n})}setCarsAmount(n){this.state=Object.assign(Object.assign({},this.state),{carsAmount:n})}setSelectedCar(n){this.state=Object.assign(Object.assign({},this.state),{selectedCarId:n})}setPage(n){this.state=Object.assign(Object.assign({},this.state),{page:n})}addCar(n){this.state.cars.length<a.CARS_LIMIT_PER_PAGE?this.state=Object.assign(Object.assign({},this.state),{cars:[...this.state.cars,n],carsAmount:this.state.carsAmount+1}):this.state=Object.assign(Object.assign({},this.state),{carsAmount:this.state.carsAmount+1})}updateCar(n){this.state=Object.assign(Object.assign({},this.state),{cars:this.state.cars.map((t=>t.id===n.id?n:t))})}getCars(){return this.state.cars}getCarsAmount(){return this.state.carsAmount}getPage(){return this.state.page}getSelectedCar(){return this.state.selectedCarId}setCarChars(n,t){this.state.carsChars[n]=t}deleteCarChars(n){delete this.state.carsChars[n]}getCharsByCarId(n){return this.state.carsChars[n]}setAnimateCarId(n,t){this.state.animateCarIds=Object.assign(Object.assign({},this.state.animateCarIds),{[this.state.page]:Object.assign(Object.assign({},this.state.animateCarIds[this.state.page]),{[n]:t})})}deleteAnimateCarId(n){"object"==typeof this.state.animateCarIds[this.state.page]&&delete this.state.animateCarIds[this.state.page][n]}getAnimateCarIds(){return this.state.animateCarIds[this.state.page]?this.state.animateCarIds[this.state.page]:{}}resetAnimateCarIds(){this.state.animateCarIds[this.state.page]={}}pauseAnimationPage(){this.state.isAnimationPaused[this.state.page]=!0}startAnimationPage(){this.state.isAnimationPaused[this.state.page]=!1}isAnimationOnPagePaused(){return!!this.state.isAnimationPaused[this.state.page]&&this.state.isAnimationPaused[this.state.page]}isDriveForCarInProgress(n){return!!this.state.animateCarIds[this.state.page]&&Boolean(this.state.animateCarIds[this.state.page][n])}isDriveForAllCarsInProgress(){return!!this.state.animateCarIds[this.state.page]&&this.state.cars.every((n=>this.isDriveForCarInProgress(n.id)))}getWinners(){return this.state=Object.assign(Object.assign({},this.state),{winners:[]}),this.state.winners}setWinnersAmount(n){this.state=Object.assign(Object.assign({},this.state),{winnersAmount:n})}getWinnersAmount(){return this.state.winnersAmount}}},196:(n,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.generateCars=void 0,t.generateCars=function(){const n=["Acura","Alfa Romeo","Alpine","Apollo","Apple","Aston Martin","Audi","Automobili Pininfarina","Bentley","BMW","Bollinger","Brilliance","Bugatti","Buick","BYD","Cadillac","Chana","Chery","Chevrolet","Chrysler","Citroen","Continental","CUPRA","Dacia","Daewoo","Daihatsu","Datsun","Detroit Electric","Dodge","DS Automobiles","FAW","Ferrari","Fiat","Fisker","Ford","Foxtron","Geely","Genesis","GMC","Great Wall","Haval","Honda","Hummer","Hyundai","Ineos","Infiniti","Iran Khodro","JAC","Jaguar","Jeep","JETOUR","KIA","Koenigsegg","Lada","Lamborghini","Lancia","Land Rover","Lexus","Lifan","Lincoln","Lordstown","Lotus","Lucid","LvChi","Lynk & Co","Maserati","Maybach","Mazda","MCLaren","Mercedes-Benz","MG","MINI","Mitsubishi","Nikola","NIO","Nissan","Opel","Pagani","Peugeot","Polestar","Porsche","Qoros","Range Rover","Renault","Rimac","Rivian","Rolls-Royce","Saab","Saipa","SEAT","Skoda","smart","SsangYong","SSC North America","Stellantis","Subaru","Suzuki","Tata","Tesla","Torsus","Toyota","VinFast","Volkswagen","Volvo","Xpeng","Zotye"],t=["Durango","Ram","Challenger","Charger","Grand Caravan","X7","X5","X3","X6 M","X6","X1","X4","Celica","Carrera","Lancer","CR-V","Corolla","C4 Cactus","Impala","C1","C3","Studenta 1","DS4 Crossback","UX 250h","NX 300h","LC 500","RX 350/200t","Rapid","Largus","Skyline","LS 500h","RX","ES 200/250/350","Hatchback","CX-5","Sedan","CX-30","CX-9","CX-3","MX-5 Roadster","Phantom","Camry","Polo","Supra","Ghost","Dawn","Murcielago","M5","GTR","Camaro","M3","Aventador","Gallardo","Cayman","RAV4","Rio","Creta","Solaris"];return{name:`${n[Math.floor(Math.random()*n.length)]} ${t[Math.floor(Math.random()*t.length)]}`,color:(()=>{let n="#";for(let t=0;t<6;t+=1)n+="0123456789ABCDEF"[Math.floor(16*Math.random())];return n})()}}},408:function(n,t){var e=this&&this.__awaiter||function(n,t,e,a){return new(e||(e=Promise))((function(i,r){function s(n){try{d(a.next(n))}catch(n){r(n)}}function o(n){try{d(a.throw(n))}catch(n){r(n)}}function d(n){var t;n.done?i(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(s,o)}d((a=a.apply(n,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Footer=void 0,t.Footer=class{init(){return e(this,void 0,void 0,(function*(){return this.template='\n        <footer class="footer-wrapper" id="footer">\n            <div class="footer-container">\n                <div class="footer-git">\n                    <p class="footer-text">2023</p>\n                    <a href="https://github.com/Kubatbekkk" class="github-link"></a>\n                </div>\n                <div class="footer-rss">\n                    <a href="https://rs.school/js/" class="rss"></a>\n                </div>\n            </div>\n        </footer>',this.template}))}render(){return e(this,void 0,void 0,(function*(){return yield this.init(),this.template}))}}},199:function(n,t){var e=this&&this.__awaiter||function(n,t,e,a){return new(e||(e=Promise))((function(i,r){function s(n){try{d(a.next(n))}catch(n){r(n)}}function o(n){try{d(a.throw(n))}catch(n){r(n)}}function d(n){var t;n.done?i(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(s,o)}d((a=a.apply(n,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Header=void 0,t.Header=class{init(){return e(this,void 0,void 0,(function*(){return this.template='\n        <header class="header-wrapper">\n            <div class="header-container">\n                <h1 class="header-container__title" id="app-title">\n                    async race\n                </h1>\n                <div class="header-container__items">\n\n                  <nav class="header-nav">\n                    <div class="header-nav__item">\n                        <button id="garage-btn" class="header__btn button">\n                            Garage\n                        </button>\n                    </div>\n                    <div class="header-nav__item">\n                        <button id="winners-btn" class="header__btn button">\n                            Winners\n                        </button>\n                    </div>\n                  </nav>\n                </div>\n            </div>\n        </header>',this.template}))}subscribeOnGarage(n,t){const a=document.getElementById("garage-btn");null==a||a.addEventListener("click",(a=>e(this,void 0,void 0,(function*(){a.preventDefault();const e=document.getElementById("router");e&&(e.remove(),n(),yield t())}))))}subscribeOnWinners(n,t){const a=document.getElementById("winners-btn");null==a||a.addEventListener("click",(a=>e(this,void 0,void 0,(function*(){a.preventDefault();const e=document.getElementById("router");e&&(e.remove(),n(),yield t())}))))}render(){return e(this,void 0,void 0,(function*(){return yield this.init(),this.template}))}}},202:function(n,t,e){var a=this&&this.__awaiter||function(n,t,e,a){return new(e||(e=Promise))((function(i,r){function s(n){try{d(a.next(n))}catch(n){r(n)}}function o(n){try{d(a.throw(n))}catch(n){r(n)}}function d(n){var t;n.done?i(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(s,o)}d((a=a.apply(n,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Main=void 0;const i=e(207);e(909);const r=e(194),s=e(196),o=e(371),d=e(564);t.Main=class{constructor(){this.controller=new r.AppController,this.carController=new d.CarController}init(){return a(this,void 0,void 0,(function*(){return this.template=`\n\n        <div class="garage-page">\n            <h2 class="main-container__title" id="main-title">\n                Garage\n            </h2>\n            <div class="main-container__panel">\n            <div class="main-panel__items">\n              <div class="garage-btns">\n                <button id="addCars-btn" class="garage-btns__item button">\n                  Add cars\n                </button>\n                <button id="race-btn" class="garage-btns__item button">\n                  Race\n                </button>\n                <button id="reset-btn" class="garage-btns__item button" disabled>\n                  Reset race\n                </button>\n              </div>\n              <h2 class="main-container__title" id="cars-counter">\n                ${yield i.state.getCarsAmount()} cars for race\n              </h2>\n            </div>\n                <div class="main-container__inputs">\n                    <div class="garage-input">\n                        <form action="" class="create-car">\n                            <input type="text" id="create-input" class="garage-input__item" placeholder="Fill the name" />\n                            <input type="color" name="color-panel" id="create-color" class="garage-input__item palette" value="#000000">\n                            <button id="create-btn" class="button garage-btn">\n                                Add car\n                            </button>\n                        </form>\n                    </div>\n                    <div class="garage-input">\n                        <form action="" class="update-car">\n                            <input type="text" id="update-input" class="garage-input__item" placeholder="Fill the name" />\n                            <input type="color" name="color-panel" id="update-color" class="garage-input__item palette" value="#000000">\n                            <button id="update-btn" class="button garage-btn">\n                                Update car\n                            </button>\n                        </form>\n                    </div>\n                </div>\n            </div>\n            <div class="main-container__tracks" id="main-container__tracks">\n                ${yield this.trackInit()}\n            </div>\n        </div>`,this.template}))}updateTrack(){return a(this,void 0,void 0,(function*(){const n=document.getElementById("main-container__tracks"),t=document.getElementById("cars-counter");n.innerHTML=`\n      ${yield this.trackInit()}\n    `,t.innerHTML=`\n      ${yield i.state.getCarsAmount()} cars for race\n  `}))}trackInit(){return a(this,void 0,void 0,(function*(){return`${i.state.getCars().map((({name:n,color:t,id:e})=>`\n                <div class="main-container__track" id="${e}">\n                    <div class="track-btns">\n                        <button id="select-btn-${e}" class="track-btn">\n                            Select\n                        </button>\n                        <button id="remove-btn-${e}" class="track-btn">\n                            Remove\n                        </button>\n                        <button id="drive-btn-${e}" class="track-btn drive-btn">\n                            Drive\n                        </button>\n                        <button id="back-btn-${e}" class="track-btn back-btn" disabled>\n                            Back\n                        </button>\n                    </div>\n                    <div class="track" id="track">\n                        <hr class="line">\n                        <div class="track-items">\n                            <div class="car-items">\n                                <div class="car" style="fill: ${t}">\n                                    <svg class="car" id="car-${e}">\n                                        <use xlink:href="assets/images/sprite_car.svg#car"></use>\n                                    </svg>\n                                </div>\n                                <h2 class="car-title">${n}</h2>\n                            </div>\n                            <div class="finish"></div>\n                        </div>\n                        <hr class="line">\n                    </div>\n                </div>`)).join("")}`}))}render(){return a(this,void 0,void 0,(function*(){return yield this.init(),this.template}))}subscribeCreateCar(n){const t=document.getElementById("create-btn");null==t||t.addEventListener("click",(t=>a(this,void 0,void 0,(function*(){t.preventDefault();const e=document.getElementById("create-input"),a=document.getElementById("create-color");yield this.controller.createCar({name:e.value,color:a.value}),n()}))))}updatePanelStatus(){const n=i.state.getSelectedCar(),t=document.getElementById("update-input"),e=document.getElementById("update-color"),a=document.getElementById("update-btn");if(n){const r=i.state.getCars().find((t=>t.id===n));r&&(t.disabled=!1,e.disabled=!1,a.disabled=!1,t.value=r.name,e.value=r.color)}else t.disabled=!0,e.disabled=!0,a.disabled=!0}subscribeSelectCar(){const n=document.getElementById("main-container__tracks");null==n||n.addEventListener("click",(n=>a(this,void 0,void 0,(function*(){n.preventDefault();const t=n.target;if(t.id.includes("select-btn")){const n=Number(t.id.split("-").pop());i.state.setSelectedCar(n),this.updatePanelStatus()}}))))}subscribeUpdateCar(n){const t=document.getElementById("update-btn");null==t||t.addEventListener("click",(t=>a(this,void 0,void 0,(function*(){const e=i.state.getSelectedCar();t.preventDefault();const a=document.getElementById("update-input"),r=document.getElementById("update-color");e&&(yield this.controller.updateCar(e,{name:a.value,color:r.value}),n())}))))}subscribeDeleteCar(n){const t=document.getElementById("main-container__tracks");null==t||t.addEventListener("click",(t=>a(this,void 0,void 0,(function*(){t.preventDefault();const e=t.target;if(e.id.includes("remove-btn")){const t=Number(e.id.split("-").pop());yield this.controller.deleteCar(t),yield this.controller.getCars(i.state.getPage(),o.CARS_LIMIT_PER_PAGE),n()}}))))}subscribeAddCars(n){const t=document.getElementById("addCars-btn");null==t||t.addEventListener("click",(t=>a(this,void 0,void 0,(function*(){t.preventDefault();const e=[];for(let n=0;n<100;n+=1)e.push((0,s.generateCars)());yield Promise.all(e.map((n=>a(this,void 0,void 0,(function*(){yield this.controller.createCar(n)}))))),n()}))))}subscribeOnStart(){return a(this,void 0,void 0,(function*(){const n=document.getElementById("main-container__tracks");null==n||n.addEventListener("click",(n=>a(this,void 0,void 0,(function*(){n.preventDefault();const t=n.target,e=t.nextElementSibling,a=document.getElementById("race-btn"),i=document.getElementById("reset-btn"),r=document.getElementById("winners-btn"),s=document.getElementById("garage-btn");if(t.id.includes("drive-btn")){t.disabled=!0,e.disabled=!1,a.disabled=!0,i.disabled=!1,r.disabled=!0,s.disabled=!0;const n=Number(t.id.split("-").pop());yield this.carController.raceCar(n)}}))))}))}subscribeOnStop(){return a(this,void 0,void 0,(function*(){const n=document.getElementById("main-container__tracks");null==n||n.addEventListener("click",(n=>a(this,void 0,void 0,(function*(){n.preventDefault();const t=n.target,e=t.previousElementSibling,a=document.getElementById("race-btn"),i=document.getElementById("reset-btn"),r=document.getElementById("winners-btn"),s=document.getElementById("garage-btn");if(t.id.includes("back-btn")){t.disabled=!0,e.disabled=!1,a.disabled=!1,i.disabled=!0,r.disabled=!1,s.disabled=!1;const n=Number(t.id.split("-").pop());yield this.carController.stopCar(n)}}))))}))}subscribeOnAsyncRace(){return a(this,void 0,void 0,(function*(){const n=document.getElementById("race-btn");null==n||n.addEventListener("click",(n=>a(this,void 0,void 0,(function*(){n.preventDefault();const t=Array.from(document.getElementsByClassName("drive-btn")),e=Array.from(document.getElementsByClassName("back-btn")),a=Array.from(document.getElementsByClassName("pag-btn"));for(let n=0;n<t.length;n+=1)t[n].disabled=!0,e[n].disabled=!1;for(let n=0;n<a.length;n+=1)a[n].disabled=!0;const r=i.state.getCars().map((n=>n.id));yield this.carController.raceCars(r)}))))}))}subscribeOnResetRace(){return a(this,void 0,void 0,(function*(){const n=document.getElementById("reset-btn");null==n||n.addEventListener("click",(n=>a(this,void 0,void 0,(function*(){n.preventDefault();const t=Array.from(document.getElementsByClassName("drive-btn")),e=Array.from(document.getElementsByClassName("back-btn")),a=Array.from(document.getElementsByClassName("pag-btn"));for(let n=0;n<t.length;n+=1)t[n].disabled=!1,e[n].disabled=!0;for(let n=0;n<a.length;n+=1)a[n].disabled=!1;const r=i.state.getCars().map((n=>n.id));yield this.carController.resetCars(r)}))))}))}updateBtnsStatus(){const n=document.getElementById("race-btn"),t=document.getElementById("reset-btn"),e=document.getElementById("winners-btn"),a=document.getElementById("garage-btn");n.addEventListener("click",(()=>{n.disabled=!0,t.disabled=!1,e.disabled=!0,a.disabled=!0})),t.addEventListener("click",(()=>{n.disabled=!1,t.disabled=!0,e.disabled=!1,a.disabled=!1}))}resetBtnsStatus(){const n=document.getElementById("race-btn"),t=document.getElementById("reset-btn");i.state.isDriveForAllCarsInProgress()?(n.disabled=!0,t.disabled=!1):(n.disabled=!1,t.disabled=!0)}}},73:function(n,t,e){var a=this&&this.__awaiter||function(n,t,e,a){return new(e||(e=Promise))((function(i,r){function s(n){try{d(a.next(n))}catch(n){r(n)}}function o(n){try{d(a.throw(n))}catch(n){r(n)}}function d(n){var t;n.done?i(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(s,o)}d((a=a.apply(n,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Pagination=void 0;const i=e(207),r=e(371),s=e(194),o=e(564);t.Pagination=class{constructor(){this.controller=new s.AppController,this.carController=new o.CarController}init(){return a(this,void 0,void 0,(function*(){return this.template=`\n        <div class="main-container__buttons" id="main-container__buttons">\n            <button class="pag-btn main-container__button ${this.isPrevActive()?"":"inactive"}" id="swipeL">\n                <img src="./assets/images/swipe-left.svg" alt="swipe left">\n            </button>\n            <button class="pag-btn main-container__button ${this.isPrevActive()?"":"inactive"}" id="leftB">\n                <img src="./assets/images/icon-left.svg" alt="arrow left">\n            </button>\n            <button class="main-container__button inactive" id="page-holder">\n              ${yield i.state.getPage()}\n            </button>\n            <button class="pag-btn main-container__button ${this.isNextActive()?"":"inactive"}" id="rightB">\n                <img src="./assets/images/icon-right.svg" alt="arrow right">\n            </button>\n            <button class="pag-btn main-container__button ${this.isNextActive()?"":"inactive"}" id="swipeR">\n                <img src="./assets/images/swipe-right.svg" alt="swipe right">\n            </button>\n        </div> `,this.template}))}render(){return a(this,void 0,void 0,(function*(){return yield this.init(),this.template}))}isNextActive(){const n=i.state.getCarsAmount()>r.CARS_LIMIT_PER_PAGE,t=i.state.getPage()*r.CARS_LIMIT_PER_PAGE<i.state.getCarsAmount();return n&&t}isPrevActive(){const n=i.state.getCarsAmount()>r.CARS_LIMIT_PER_PAGE,t=i.state.getPage()*r.CARS_LIMIT_PER_PAGE>r.CARS_LIMIT_PER_PAGE;return n&&t}updatePagination(){return a(this,void 0,void 0,(function*(){document.getElementById("main-container__buttons").innerHTML=`\n      ${yield this.init()}\n    `}))}subscribeOnNext(n){const t=document.getElementById("rightB");let e=i.state.getPage();const r=i.state.getCarsAmount(),s=Math.ceil(r/7);null==t||t.addEventListener("click",(t=>a(this,void 0,void 0,(function*(){if(t.preventDefault(),e<s){const t=i.state.getAnimateCarIds();0!==Object.keys(t).length&&(this.carController.cancelAllCarsAnimation(),i.state.pauseAnimationPage(),this.carController.resetCars(Object.keys(t).map((n=>Number(n))))),e+=1,yield this.controller.getCars(e),i.state.setPage(e),n(),i.state.isAnimationOnPagePaused()&&(i.state.startAnimationPage(),this.carController.runAllCarsAnimation())}}))))}subscribeOnPrev(n){const t=document.getElementById("leftB");null==t||t.addEventListener("click",(t=>a(this,void 0,void 0,(function*(){let e=i.state.getPage();if(t.preventDefault(),e>1){const t=i.state.getAnimateCarIds();0!==Object.keys(t).length&&(this.carController.cancelAllCarsAnimation(),i.state.pauseAnimationPage(),this.carController.resetCars(Object.keys(t).map((n=>Number(n))))),e=i.state.getPage()-1,yield this.controller.getCars(e),i.state.setPage(e),n(),i.state.isAnimationOnPagePaused()&&(i.state.startAnimationPage(),this.carController.runAllCarsAnimation())}}))))}subscribeOnStart(n){const t=document.getElementById("swipeL");null==t||t.addEventListener("click",(t=>a(this,void 0,void 0,(function*(){t.preventDefault(),yield this.controller.getCars(1),i.state.setPage(1),n()}))))}subscribeOnEnd(n){const t=document.getElementById("swipeR"),e=i.state.getCarsAmount(),r=Math.ceil(e/7);null==t||t.addEventListener("click",(t=>a(this,void 0,void 0,(function*(){t.preventDefault(),yield this.controller.getCars(r),i.state.setPage(r),n()}))))}}},358:function(n,t){var e=this&&this.__awaiter||function(n,t,e,a){return new(e||(e=Promise))((function(i,r){function s(n){try{d(a.next(n))}catch(n){r(n)}}function o(n){try{d(a.throw(n))}catch(n){r(n)}}function d(n){var t;n.done?i(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(s,o)}d((a=a.apply(n,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.WinnersTable=void 0,t.WinnersTable=class{init(){return e(this,void 0,void 0,(function*(){return this.template='\n        <h2 class="main-container__title" id="win-title">\n            Winners (2)\n        </h2>\n        <div class="winners-page">\n            <table>\n                <thead>\n                    <tr>\n                        <th>№</th>\n                        <th>Car</th>\n                        <th>Car model</th>\n                        <th>Wins</th>\n                        <th>Best time</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr>\n                        <td>1</td>\n                        <td>\n                            <svg class="car" id="car">\n                                <use xlink:href="assets/images/sprite_car.svg#car"></use>\n                            </svg>\n                        </td>\n                        <td>Tesla</td>\n                        <td>1</td>\n                        <td>10.3</td>\n                    </tr>\n                    <tr>\n                        <td>2</td>\n                        <td>\n                            <svg class="car" id="car">\n                                <use xlink:href="assets/images/sprite_car.svg#car"></use>\n                            </svg>\n                        </td>\n                        <td>BMW</td>\n                        <td>2</td>\n                        <td>9.3</td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>',this.template}))}render(){return e(this,void 0,void 0,(function*(){return yield this.init(),this.template}))}}},607:function(n,t,e){var a=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(t,"__esModule",{value:!0}),e(654),e(675),e(368),e(962),e(194),e(767),(new(a(e(962)).default)).start()},644:(n,t)=>{var e;Object.defineProperty(t,"__esModule",{value:!0}),t.PagePaths=void 0,(e=t.PagePaths||(t.PagePaths={})).Garage="garage",e.Winners="winners"},525:(n,t,e)=>{n.exports=e.p+"assets/logo/GihHub.svg"},760:(n,t,e)=>{n.exports=e.p+"assets/logo/finish.png"},581:(n,t,e)=>{n.exports=e.p+"assets/logo/mute.svg"},753:(n,t,e)=>{n.exports=e.p+"assets/logo/pause.svg"},986:(n,t,e)=>{n.exports=e.p+"assets/logo/play.svg"},134:(n,t,e)=>{n.exports=e.p+"assets/logo/prev.svg"},94:(n,t,e)=>{n.exports=e.p+"assets/logo/skip.svg"},117:(n,t,e)=>{n.exports=e.p+"assets/logo/rs_school.svg"},909:(n,t,e)=>{n.exports=e.p+"assets/logo/sprite_car.svg"}},t={};function e(a){var i=t[a];if(void 0!==i)return i.exports;var r=t[a]={id:a,exports:{}};return n[a].call(r.exports,r,r.exports,e),r.exports}e.m=n,e.n=n=>{var t=n&&n.__esModule?()=>n.default:()=>n;return e.d(t,{a:t}),t},e.d=(n,t)=>{for(var a in t)e.o(t,a)&&!e.o(n,a)&&Object.defineProperty(n,a,{enumerable:!0,get:t[a]})},e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"==typeof window)return window}}(),e.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t),e.r=n=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},(()=>{var n;e.g.importScripts&&(n=e.g.location+"");var t=e.g.document;if(!n&&t&&(t.currentScript&&(n=t.currentScript.src),!n)){var a=t.getElementsByTagName("script");a.length&&(n=a[a.length-1].src)}if(!n)throw new Error("Automatic publicPath is not supported in this browser");n=n.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=n})(),e.b=document.baseURI||self.location.href,e.nc=void 0,e(607)})();